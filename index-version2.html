
<!DOCTYPE html>

<html>

  <head>

    <!-- Naming the webpage for browzer and SEO -->
    <title>Dundas Data Visualization : Standard Development Test</title>

  </head>

  <body>


    <form>

    <lable>Name/Value Pair</lable>  
    
    <input type="text" id="addValuePair"  placeholder="Name/Value Pair">
    
    <br>
    
    <button type="button" onclick="addToList()">add</button>
    
    <br>
    
    <select id="mySelect"  width="50%" size="8" multiple ></select>
    
    <br>

    <button type="button" onclick="sortByName()">Sort By Name</button>
    
    <br>
    <button type="button" onclick="sortByValue()">Sort By Value</button>
    
    <br>

    <button type="button" onclick="deleteOption()">Delete</button>
    <br>
    
    <button type="button" onclick="showXML()">Show XML</button>
    <br>

    </form>





    <script>

      var selectTag = document.getElementById("mySelect");

      selectTag.multiple = true;

      function addToList() {

        var valuePairAdd = document.getElementById('addValuePair');
        var regularExpAlpha =  /^[a-z0-9]+$/i;
        
        valuePairAdd = valuePairAdd.value.trim();
        nameValue = valuePairAdd.split("=");
        
        var name = nameValue[0];
        var value = nameValue[1];

        name  = name.slice(1,name.length - 1 );
        value =  value.slice( 1,value.length - 1 );

        if( name.match(regularExpAlpha) == true || value.match(regularExpAlpha)){

          var option = document.createElement("option");
          option.setAttribute("value", value);
          var text = document.createTextNode(name + "=" + value);
          option.appendChild(text);
          selectTag.appendChild(option);

        }

        else{

          alert(" Sorry! Only Alphanumeric");

        }

      }


        
      function sortByName(){

        var selectTag = document.getElementById("mySelect");
        
        tmpAryName = new Array();
        
        for(i = 0; i< selectTag.length; i++){

          
          tmpAryName[i] = selectTag.options[i].text;
        
        }

        tmpAryName.sort();

        for(i = 0; i < selectTag.length; i++){

         selectTag.options[i].text = tmpAryName[i];

        }

      }


      function sortByValue(){


        var selectTag = document.getElementById("mySelect");

        tmpAryValue = {};

        namesValues = [];

        for( i = 0; i < selectTag.length; i++ ){

          nameValue = selectTag.options[i].text.split("=");
          var name = nameValue[0];
          var value = nameValue[1];

          tmpAryValue.name = name;
          tmpAryValue.value = value;

        }

        namesValues.push({tmpAryValue: tmpAryValue});

         for( i = 0; i < selectTag.length; i++ ){

          alert(namesValues[i]);

         } 
        
        // tmpAryValue.sort(sortFunction);

        // function sortFunction(a, b) {
          
        //   if (a[1] === b[1]) {
        //     return 0;
        //   }
          
        //   else {
        //     return (a[1] < b[1]) ? -1 : 1;
        //   }
        
        // }

      }


      

      function deleteOption(){

        selectTag.remove(selectTag.selectedIndex);

      }


    </script>

</body>
</html>
